<!DOCTYPE html>

<!-- 
	This contains all main content in hidden divs. 
	This is to reduce the number of ajax calls and files and 
	reduce load time when changing pages
-->

<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Node.IOT</title>
  <link rel="stylesheet" href="style/style.css">
  <link rel="stylesheet" href="style/hmistyle.css">
 
  <!-- Support -->
  <script type="text/javascript" src="script/Utility.js"></script>	
  <script type="text/javascript" src="script/Module.js"></script>
  <script type="text/javascript" src="script/Arch.js"></script>	  
  <script type="text/javascript" src="script/Graphics.js"></script>		
  <script type="text/javascript" src="script/NodeTypes.js"></script>
  <script type="text/javascript" src="script/Test.js"></script>
  <script type="text/javascript" src="script/Main.js"></script>
  
  <!-- Modules -->
  <script type="text/javascript" src="script/AJAX.js"></script>	
  <script type="text/javascript" src="script/Websockets.js"></script>	
  <script type="text/javascript" src="script/CPU.js"></script>	
  <script type="text/javascript" src="script/Assembler.js"></script>
  <script type="text/javascript" src="script/VariableEdit.js"></script>
  <script type="text/javascript" src="script/Systems.js"></script>	
  <script type="text/javascript" src="script/Config.js"></script>	
  <script type="text/javascript" src="script/Liveview.js"></script>
  <script type="text/javascript" src="script/Weblogix.js"></script>
  <script type="text/javascript" src="script/System.js"></script>
  <script type="text/javascript" src="script/Project.js"></script>
  
  <!-- HMI Need to rename and merge into main-->
  <script type="text/javascript" src="script/HMI/graph.js"></script>
  <script type="text/javascript" src="script/HMI/utility.js"></script>	
  <script type="text/javascript" src="script/HMI/ajax.js"></script>
  <script type="text/javascript" src="script/HMI/object_types.js"></script>  
  <script type="text/javascript" src="script/HMI/graphics.js"></script>		
  <script type="text/javascript" src="script/HMI/ui.js"></script>	
  <script type="text/javascript" src="script/HMI/properties.js"></script>	
  <script type="text/javascript" src="script/HMI/objects.js"></script>
  <script type="text/javascript" src="script/HMI/object_types.js"></script>  
  <script type="text/javascript" src="script/HMI/HMI.js"></script>
  
</head>

<body onload=main.init();>

<div id="header" onclick=location.reload();><span id=banner>Node.IOT</span></div>
<div id="content">
<div id="sidebar" id=nav>
  <ul>
  <li>
    <div class="side_dropdown">
	<button class="side_dropbtn">Project</button>
	<div class="side_dropdown-content">
		<a href="#" onclick='main.menu_goonline();'>Go Online</a>
		<a href="#" onclick='main.menu_gooffline();'>Go Offline</a>
		<a href="#" onclick='main.menu_assemble();'>Assemble</a>
		<a href="#" onclick='main.menu_file_save();'>Save</a>
		<a href="#" onclick='main.menu_file_saveas();'>Save As</a>
		<a href="#" onclick='main.menu_file_load();'>Load</a>
	</div>
	</div> 
  </li>
 
  <li> <a href="#" onclick=main.load_module("hmi");>HMI</a></li>
  <li> <a href="#" onclick=main.load_module("liveview");>Live View</a></li>
  <li> <a href="#" onclick=main.load_module("weblogix");>WebLogix</a></li>
  <li> <a href="#" onclick=main.load_module("vareditor");>Variables</a></li>
  <li> <a href="#" onclick=main.load_module("systems");>Systems</a></li>
  <li> <a href="#" onclick=main.load_module("config","ioconfig");>IO Setup</a></li>
  <li> <a href="#" onclick=main.load_module("config","mainconfig");>Config</a></li>
  <li> <a href="#" onclick=main.load_module("system");>System</a></li>
  
  </ul>
 </div>
 
<div id="maincontent">


<!-- HMI -->
<div id="hmi_container" style="display:none">

  <div id=hmiheader>
  <div id="main_nav">
  <ul>
    <li>
      <a class="navbar-brand" href="index.php?cmd=view_show&view_mode=edit">Edit</a>
      <ul>
        <li>
          <a href="index.php?cmd=view_show">Views</a>
          <ul>
            <li><a href ='#' onclick=ui.set_view('1');>Overview</a></li>
            <li><a href ='#' onclick=ui.set_view('2');>View 1</a></li>
            <li><a href ='#' onclick=ui.set_view('3');>View 2</a></li>
            <li><a href ='#' onclick=ui.set_view('4');>View 3</a></li>
            <li><a href ='#' onclick=ui.set_view('5');>View 4</a></li>
          </ul>
        </li>
		<li>
			<a  href="index.php?cmd=view_show">Layers</a>
			<ul>
			  <li><a href ='#' onclick=ui.set_layer('All');>All Layers</a></li>
			  <li><a href ='#' onclick=ui.set_layer('1');>Layer 1</a></li>
			  <li><a href ='#' onclick=ui.set_layer('2');>Layer 2</a></li>
			  <li><a href ='#' onclick=ui.set_layer('3');>Layer 3</a></li>
			  <li><a href ='#' onclick=ui.set_layer('4');>Layer 4</a></li>
			  <li><a href ='#' onclick=ui.set_layer('5');>Layer 5</a></li>
			  <li><a href ='#' onclick=ui.set_layer('6');>Layer 6</a></li>
			  <li><a href ='#' onclick=ui.set_layer('7');>Layer 7</a></li>
			  <li><a href ='#' onclick=ui.set_layer('8');>Layer 8</a></li>
			  <li><a href ='#' onclick=ui.set_layer('9');>Layer 9</a></li>
			  <li><a href ='#' onclick=ui.set_layer('10');>Layer 10</a></li>
			</ul>  
		</li>
		<li><a href="index.php?cmd=view_show">Add</a>
			<ul>
			  <li><a href ='#' onclick=objects.ui_add('rect'); >Rectangle</a></li>
			  <li><a href ='#' onclick=objects.ui_add('vardisplay'); >Var Display</a></li> 
			  <li><a href ='#' onclick=objects.ui_add('varinput'); >Var Input</a></li> 
			  <li><a href ='#' onclick=objects.ui_add('bitdisplay'); >Bit Display</a></li> 
			  <li><a href ='#' onclick=objects.ui_add('bitinput'); >Bit Input</a></li> 					  
			</ul>  
		</li>            
		<li><a href="#" onclick=hmi.set_mode('run');>Run Mode</a> </li>
		<li><a href="#" onclick=hmi.set_mode('edit');>Edit Mode</a> </li>
			
		</ul>
				

		</li>
		
	</ul>
  </div> <!-- End main nav -->
  </div> <!-- End HMI Header -->

  <br><br>
		
  <div id="canvas_box" tabindex=0>
  <canvas id="hmimaincanvas"></canvas>
  </div>
	
  <div id="edit_box"></div>

</div>
<!-- End of HMI -->


<!-- Liveview Editor -->
<div id="liveview_container" style="display:none">
  <h2>Live</h2>
  <table class=io_table onselectstart="return false" ondragstart="return false" >
  <tr>
    <td id=Output1 onclick=liveview.area_click(this.id)>Out 1</td>
    <td id=Output2 onclick=liveview.area_click(this.id)>Out 2</td>
    <td id=Output3 onclick=liveview.area_click(this.id)>Out 3</td>
    <td id=Output4 onclick=liveview.area_click(this.id)>Out 4</td>
  </tr>
  <tr>
    <td id=Input1 onclick=liveview.area_click(this.id)>In 1</td>
    <td id=Input2 onclick=liveview.area_click(this.id)>In 2</td>
    <td id=Input3 onclick=liveview.area_click(this.id)>In 3</td>
    <td id=Input4 onclick=liveview.area_click(this.id)>In 4</td>
  </tr>
</table>
</div>
<!-- End of liveview -->


<!-- Weblogix Editor -->
<div id="weblogix_container" style="display:none">
  <div id=elements_container >
  <div id="tool_container" tabindex="0" style="position:relative;">
  <canvas id="toolcanvas" class="display_class" width="800" height="55" style="border:1px solid #000000;"></canvas> 
  </div>
  </div>

  <div id="canvas_container" tabindex="0" style="position:relative; float:clear">
  <canvas id="maincanvas" class="display_class" width="800" height="600" style="border:1px solid #000000;"></canvas> 
  </div>

  <div id="properties_container" tabindex="0" style="position:absolute; float:clear">
  </div>
</div>
<!-- End of Weblogix Editor -->

<!-- Variable Editor -->
<div id="vareditor_container" style="display:none">
  <div id=variablelist> </div>
</div>
<!-- End of Variable Editor -->

<!-- Variable Editor -->
<div id="systems_container" style="display:none">
  <div id=systemlist>Systems </div>
</div>
<!-- End of Variable Editor -->


<!-- IO Config Editor -->
<div id="ioconfig_container" style="display:none">
  <div id=iolist> </div>

  <h2>IO Setup</h2>
  <form id=ioconfig  action="javascript:void(0);" onsubmit="config.save_click('ioconfig');">

  <table class=config_table border=1>

  <tr><th colspan = 2><b>Input 1</b></th></tr>
  <tr><td>Name</td><td><input name="io_input1_name"></td></tr>
  <tr><td>Topic</td><td><input name="io_input1_topic"></td></tr>
  <tr><td>Publish</td><td><input type="checkbox" name="io_input1_pub"></td></tr>
  <tr><td>Inverted</td><td><input type="checkbox" name="io_input1_inverted"></td></tr>
  <tr><td>Enabled</td><td><input type="checkbox" name="io_input1_enabled"></td></tr>

  <tr><th colspan = 2><b>Input 2</b></th></tr>
  <tr><td>Name</td><td><input name="io_input2_name"></td></tr>
  <tr><td>Topic</td><td><input name="io_input2_topic"></td></tr>
  <tr><td>Publish</td><td><input type="checkbox" name="io_input2_pub"></td></tr>
  <tr><td>Inverted</td><td><input type="checkbox" name="io_input2_inverted"></td></tr>
  <tr><td>Enabled</td><td><input type="checkbox" name="io_input2_enabled"></td></tr>

  <tr><th colspan = 2><b>Input 3</b></th></tr>
  <tr><td>Name</td><td><input name="io_input3_name"></td></tr>
  <tr><td>Topic</td><td><input name="io_input3_topic"></td></tr>
  <tr><td>Publish</td><td><input type="checkbox" name="io_input3_pub"></td></tr>
  <tr><td>Inverted</td><td><input type="checkbox" name="io_input3_inverted"></td></tr>
  <tr><td>Enabled</td><td><input type="checkbox" name="io_input3_enabled"></td></tr>

  <tr><th colspan = 2><b>Input 4</b></th></tr>
  <tr><td>Name</td><td><input name="io_input4_name"></td></tr>
  <tr><td>Topic</td><td><input name="io_input4_topic"></td></tr>
  <tr><td>Publish</td><td><input type="checkbox" name="io_input4_pub"></td></tr>
  <tr><td>Inverted</td><td><input type="checkbox" name="io_input4_inverted"></td></tr>
  <tr><td>Enabled</td><td><input type="checkbox" name="io_input4_enabled"></td></tr>

  <tr><th colspan = 2><b>Output 1</b></th></tr>
  <tr><td>Name</td><td><input name="io_output1_name"></td></tr>
  <tr><td>Topic</td><td><input name="io_output_topic"></td></tr>
  <tr><td>Subscribe</td><td><input type="checkbox" name="io_output1_sub"></td></tr>
  <tr><td>Inverted</td><td><input type="checkbox" name="io_output1_inverted"></td></tr>
  <tr><td>Enabled</td><td><input type="checkbox" name="io_output1_enabled"></td></tr>

  <tr><th colspan = 2><b>Output 2</b></th></tr>
  <tr><td>Name</td><td><input name="io_output2_name"></td></tr>
  <tr><td>Topic</td><td><input name="io_output2_topic"></td></tr>
  <tr><td>Subscribe</td><td><input type="checkbox" name="io_output2_sub"></td></tr>
  <tr><td>Inverted</td><td><input type="checkbox" name="io_output2_inverted"></td></tr>
  <tr><td>Enabled</td><td><input type="checkbox" name="io_output2_enabled"></td></tr>

  </table>
  <input type=submit value=Save>
  </form>

  <br><br>
</div>
<!-- End of IO Config Editor -->

<!-- Main Config Editor -->
<div id="mainconfig_container" style="display:none">

  <h2>Config</h2>
  <form id=mainconfig  action="javascript:void(0);" onsubmit="event.preventDefault(); config.save_click('mainconfig');">

  <table class=config_table border=1>

  <tr><th colspan = 2><b>General</b></th></tr>
  <tr><td>Node Name</td><td><input name="network_node_name" value=""></td></tr>

  <tr><th colspan = 2><b>Network</b></th></tr>
  <tr><td>DHCP</td><td><input type="checkbox" name="network_dhcp_enabled"></td></tr>
  <tr><td>IP Address</td><td><input name="network_ip"></td></tr>
  <tr><td>Subnet Mask</td><td><input name="network_mask"></td></tr>
  <tr><td>Gateway</td><td><input name="network_gw"></td></tr>
  <tr><td>DNS</td><td><input name="network_dns"></td></tr>

  <tr><th colspan = 2><b>Ethernet</b></th></tr>
  <tr><td>Enabled</td><td><input type="checkbox" name="network_eth_enabled"></td></tr>

  <tr><th colspan = 2><b>Wireless</b></th></tr>
  <tr><td>Enabled</td><td><input type="checkbox" name="network_wifi_enabled"></td></tr>
  <tr><td>SSID</td><td><input name="network_wifi_ssid"></td></tr>
  <tr><td>Password</td><td><input name="network_wifi_pass"></td></tr>

  <tr><th colspan = 2><b>Webserver</b></th></tr>
  <tr><td>Port</td><td><input name="http_port"></td></tr>
  <tr><td>Username</td><td><input name="http_user"></td></tr>
  <tr><td>Password</td><td><input name="http_pass"></td></tr>

  <tr><th colspan = 2><b>MQTT</b></th></tr>
  <tr><td>Enabled</td><td><input type="checkbox" name="mqtt_enabled"></td></tr>
  <tr><td>Client ID</td><td><input name="mqtt_client_id"></td></tr>
  <tr><td>Username</td><td><input name="mqtt_user"></td></tr>
  <tr><td>Password</td><td><input name="mqtt_pass"></td></tr>
  <tr><td>Broker</td><td><input name="mqtt_host"></td></tr>
  <tr><td>Pub Topic</td><td><input name="mqtt_pub_topic"></td></tr>
  <tr><td>Sub Topic</td><td><input name="mqtt_sub_topic"></td></tr>

  <tr><th colspan = 2><b>AWS</b></th></tr>
  <tr><td>Enabled</td><td><input type="checkbox" name="aws_enabled"></td></tr>
  <tr><td>Client ID</td><td><input name="aws_client_id"></td></tr>
  <tr><td>Broker</td><td><input name="aws_host"></td></tr>
  <tr><td>Pub Topic</td><td><input name="aws_pub_topic"></td></tr>
  <tr><td>Sub Topic</td><td><input name="aws_sub_topic"></td></tr>

  <tr><th colspan = 2><b>RestAPI</b></th></tr>
  <tr><td>Enabled</td><td><input type="checkbox" name="rest_enabled"></td></tr>

  </table>
  <input type=submit value=Save>
  </form>
  <br><br>
</div>
<!-- End of Main Config Editor -->


<!-- System -->
<div id="system_container" style="display:none">
  <h2>System</h2>

  <table class=config_table border=1>
  <tr><td>System Restart</td><td><input type=submit value=Request onclick=system.restart()></td></tr>
  </table>

</div>
<!-- End of System -->

</div> <!-- End of main content -->

<div class="clear"></div>

<div id="statusbar">
  <span id="status_mode">Online</span>
  <span id="status_connection"></span>
  <span id="status_error">Error</span>
  <span id="status_notice">Notice</span>
</div>

</div><!-- End of Content -->
</body>
</html>